## Footprinting the Service
```
git clone https://github.com/jtesta/ssh-audit.git && cd ssh-audit
```
```
./ssh-audit.py 10.129.14.132
```
The first thing we can see in the first few lines of the output is the banner that reveals the version of the OpenSSH server. The previous versions had some vulnerabilities, such as CVE-2020-14145, which allowed the attacker the capability to Man-In-The-Middle and attack the initial connection attempt. The detailed output of the connection setup with the OpenSSH server can also often provide important information, such as which authentication methods the server can use.
For potential brute-force attacks, we can specify the authentication method with the SSH client option `PreferredAuthentications`.
```
ssh -v cry0l1t3@10.129.14.132 -o PreferredAuthentications=password
```
### Hydra usage SSH
```
hydra -l mitch -P /usr/share/seclists/Passwords/Common-Credentials/best110.txt 10.10.93.204 -s 2222 -t 4 ssh -V
```
```
hydra -L user.list -P password.list ssh://10.129.42.197
```
### SSH Additional Arguments
```
ssh -v -oHostKeyAlgorithms=+ssh-rsa username@ipaddress
```
https://www.redswitches.com/blog/ssh-permission-denied/
https://monovm.com/blog/ssh-permission-denied-publickey/
Make sure the public key is in the ~/.ssh/authorized_keys file (copy and paste the public key content in the authorized_keys on the host machine)
### Generating Public Key from Private Key
1. https://www.baeldung.com/linux/public-key-from-private-key
2. Having the private key I need to generate the public key using ssh-keygen
3. Create a file called rsa.pem and copy the private key to it
```
chmod 600 rsa.pem
```
```
ssh-keygen -f rsa.pem -y
```
4. Copy the public key and replace the public key available on your machine (in my case the name was id_ed25519.pub)
5. Next we should be able to login to SSH via public/private key pair
### SSH to Linux File Transfers
```
python3 -m http.server 8000
```
```
wget http://[sshIP]:8000/<FileNametoTransfer>
```
